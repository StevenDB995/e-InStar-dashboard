<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Production Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <style>
        html, body {
            width: 100%;
            height: 100%;
        }

        .container-root {
            height: 100%;
        }

        #container-left {
            height: 100%;
            padding: 0;
            background: #495cf6;
        }

        #container-right {
            height: 100%;
            padding: 0;
        }

        #container-main {
            height: 100%;
            background: lightgray;
        }

        #navbar-left .nav-link {
            color: white;
        }

        .active {
            background: darkblue;
        }

        #navbar-top {
            background: url("/images/top-bar.jpg");
            background-size: 100% 100%;
            padding: 12px;
        }

        #logo-container {
            text-align: center;
            padding: 10px 0;
        }

        #logo {
            width: 50%;
        }

        #display-area {
            margin: 20px 0;
            text-align: center;
            border-style: solid;
            border-color: #6f6f6f;
            border-width: 3px;
            border-radius: 20px;
            background: #eee;
        }

        #pass-rate {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }

        #pass, #fail {
            margin-top: 10px;
            margin-bottom: 10px;
            border-style: solid;
            border-color: #6f6f6f;
            border-width: 2px;
            border-radius: 10px;
        }

        #pass {
            margin-left: 30%;
            margin-right: 15%;
        }

        #fail {
            margin-left: 15%;
            margin-right: 30%;
        }
    </style>
</head>
<body>
<div class="container-fluid container-root">
    <div class="row container-root">
        <div id="container-left" class="col-2"><!--TODO: responsive-->
            <div id="logo-container">
                <img th:src="@{/images/sample-logo.png}" alt="logo" id="logo" />
            </div>
            <nav id="navbar-left" class="nav flex-column">
                <a class="nav-link active" href="#"><i class="bi bi-graph-up"></i>&nbsp;&nbsp;Production</a>
                <a class="nav-link" href="#"><i class="bi bi-truck"></i>&nbsp;&nbsp;Logistics</a>
                <a class="nav-link" href="#"><i class="bi bi-building"></i>&nbsp;&nbsp;Installation</a>
            </nav>
        </div>
        <div id="container-right" class="col-10"><!--TODO: responsive-->
            <div id="navbar-top">Top Navigation Bar</div>
            <div id="container-main">
                <!--main content of the dashboard-->
                <div class="row">
                    <div class="col-3"></div>
                    <div class="col-6" id="display-area">
                        <div id="completion-rate"></div>
                        <div id="monthly-completion" style="height: 400px"></div>
                        <div id="pass-rate">
                            <div id="pass">
                                PASS<br>
                                90%
                            </div>
                            <div id="fail">
                                FAIL<br>
                                10%
                            </div>
                        </div>
                        <div id="monthly-pass-rate"></div>
                    </div>
                    <div class="col-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script th:src="@{/js/echarts.min.js}"></script>
<script th:inline="javascript">
    var monthlyCompletionChart = echarts.init(document.getElementById('monthly-completion'));
    monthlyCompletionChart.setOption({
        grid: {
            left: '15%'
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yAxis: {
            type: 'value',
            name: 'No. of Modules',
            nameLocation: 'middle',
            nameGap: 50,
            nameTextStyle: {
                fontStyle: 'bold',
                fontSize: 14,
                color: '#000'
            }
        },
        legend: {
            orient: 'vertical',
            right: '10%',
            bottom: '27%',
            padding: 10,
            backgroundColor: '#fff',
            borderColor: '#999',
            borderWidth: 2,
            borderRadius: 5,
            data: ['Planned', 'Actual']
        },
        tooltip: {
            trigger: 'axis'
        },
        series: [
            {
                type: 'line',
                name: 'Planned',
                data: [1000, 1050, 1130, 1200, 1350, 1500, 1550, 1550, 1550, 1550, 1550, 1550],
                smooth: true,
                lineStyle: {
                    color: '#25d7bc',
                    width: 3
                },
                itemStyle: {
                    color: '#25d7bc'
                }
            },
            {
                type: 'line',
                name: 'Actual',
                data: [820, 932, 901, 934, 1290, 1330, 1320, 1440, 1508, 1601, 1599, 1604],
                smooth: true,
                lineStyle: {
                    color: '#ee819a',
                    width: 3
                },
                itemStyle: {
                    color: '#ee819a'
                }
            }
        ]
    });

    window.addEventListener('resize', function () {
        monthlyCompletionChart.resize();
    });
</script>
</body>
</html>